import React, { useContext, useRef } from 'react'
import { Link } from 'react-router-dom'
import { Context } from '../../Context'

function Header() {
    const {cart} = useContext(Context)
    const mobileNav = useRef()

    const switchActive = (id) => {
        // Setting active navigation menu 
        document.querySelectorAll('.nav-items li').forEach(item => {
            // remove active from all navigations 
            item.classList.remove('active')
        })
        // Set active to the clicked item 
        document.getElementById(id).classList.add('active')
    }

    // Showing or hide navigation for mobile 
    const toggleNav = () => {
        mobileNav.current.classList.toggle('w-0')
    }

    return (
        <>
        <div ref={mobileNav} className='h-screen w-full bg-white z-[9999] fixed top-0 left-0 pt-8 transition-all overflow-hidden'>
            <svg onClick={toggleNav} className='absolute top-8 right-6' width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M0.317668 1.85151C0.216955 1.75079 0.137065 1.63123 0.0825594 1.49964C0.0280538 1.36805 1.06119e-09 1.22702 0 1.08459C-1.06119e-09 0.942158 0.0280538 0.801122 0.0825594 0.669534C0.137065 0.537946 0.216955 0.418381 0.317668 0.317668C0.418381 0.216955 0.537946 0.137065 0.669534 0.0825594C0.801122 0.0280538 0.942158 -1.06119e-09 1.08459 0C1.22702 1.06119e-09 1.36805 0.0280538 1.49964 0.0825594C1.63123 0.137065 1.75079 0.216955 1.85151 0.317668L13 11.4683L24.1485 0.317668C24.2492 0.216955 24.3688 0.137065 24.5004 0.0825594C24.6319 0.0280538 24.773 0 24.9154 0C25.0578 0 25.1989 0.0280538 25.3305 0.0825594C25.4621 0.137065 25.5816 0.216955 25.6823 0.317668C25.783 0.418381 25.8629 0.537946 25.9174 0.669534C25.9719 0.801122 26 0.942158 26 1.08459C26 1.22702 25.9719 1.36805 25.9174 1.49964C25.8629 1.63123 25.783 1.75079 25.6823 1.85151L14.5317 13L25.6823 24.1485C25.783 24.2492 25.8629 24.3688 25.9174 24.5004C25.9719 24.6319 26 24.773 26 24.9154C26 25.0578 25.9719 25.1989 25.9174 25.3305C25.8629 25.4621 25.783 25.5816 25.6823 25.6823C25.5816 25.783 25.4621 25.8629 25.3305 25.9174C25.1989 25.9719 25.0578 26 24.9154 26C24.773 26 24.6319 25.9719 24.5004 25.9174C24.3688 25.8629 24.2492 25.783 24.1485 25.6823L13 14.5317L1.85151 25.6823C1.75079 25.783 1.63123 25.8629 1.49964 25.9174C1.36805 25.9719 1.22702 26 1.08459 26C0.942158 26 0.801122 25.9719 0.669534 25.9174C0.537946 25.8629 0.418381 25.783 0.317668 25.6823C0.216955 25.5816 0.137065 25.4621 0.0825594 25.3305C0.0280538 25.1989 0 25.0578 0 24.9154C0 24.773 0.0280538 24.6319 0.0825594 24.5004C0.137065 24.3688 0.216955 24.2492 0.317668 24.1485L11.4683 13L0.317668 1.85151Z" fill="#333333"/>
            </svg>
            <Link to="/"><h1 className='px-[30px] text-grey-dark text-[1.5rem] mb-[50px] font-bold font-stix'>ARTSY.</h1></Link>
            <ul className='px-[30px]'>
                <li onClick={toggleNav} data-id="home" className='mobile-nav'><Link to="/">Home</Link></li>
                <li onClick={toggleNav} data-id="marketplace" className='mobile-nav'><Link to="/marketplace">Marketplace</Link></li>
                <li onClick={toggleNav} data-id="auctions" className='mobile-nav'><Link to="/auctions">Aunctions</Link></li>
                <li onClick={toggleNav} data-id="drop" className='mobile-nav'><Link to="/drop">Drop</Link></li>
            </ul>
            <div className="w-16 h-16 bg-blue rounded-full absolute right-8 bottom-16 shadow-7xl flex items-center justify-center">
                <svg width="29" height="29" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0 29V2.9C0 2.1025 0.2842 1.41955 0.8526 0.85115C1.42003 0.283716 2.1025 0 2.9 0H26.1C26.8975 0 27.5805 0.283716 28.1489 0.85115C28.7163 1.41955 29 2.1025 29 2.9V20.3C29 21.0975 28.7163 21.7805 28.1489 22.3489C27.5805 22.9163 26.8975 23.2 26.1 23.2H5.8L0 29Z" fill="white"/>
                </svg>
            </div>
        </div>
        <header className='pt-5 pb-10'>
            <div className="container mx-auto">
                <div className='max-w-[1064px] flex items-center justify-between mx-auto'>
                    <svg onClick={toggleNav} className='md:hidden' width="40" height="35" viewBox="0 0 40 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M10 24.5H29.0312M10 17.25H29.0312M10 10H29.0312" stroke="black" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>
                    </svg>
                    <Link to="/">
                        <svg width="111" height="23" viewBox="0 0 111 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M7.36 22V20.624C5.76 20.624 5.184 20.464 5.184 19.44C5.184 18.896 5.44 18.128 5.632 17.584L6.56 15.248H13.92L14.656 17.168C15.008 18.064 15.296 19.12 15.296 19.6C15.296 20.56 14.208 20.624 13.408 20.624V22H23.68V20.624C22.208 20.624 21.376 19.632 20.512 17.584L13.6 0.815998H10.24L3.296 17.52C2.304 20.048 1.696 20.624 0.064 20.624V22H7.36ZM7.136 13.584L10.368 5.616H10.496L13.344 13.584H7.136ZM36.0008 22V20.624C33.2488 20.624 32.8328 20.272 32.8328 17.68V12.72H33.4728C34.5608 12.72 35.0088 12.848 35.5848 13.84C36.8648 15.92 37.4728 16.848 40.3528 22H47.6168V20.624C46.1448 20.624 45.2168 20.4 44.2248 18.992C40.7688 14.16 39.8728 12.656 38.8488 11.984V11.824C41.5048 11.216 43.9048 9.872 43.9048 6.352C43.9048 2.288 39.9688 0.976 35.5208 0.976H25.0888V2.352C27.6488 2.352 28.0648 2.96 28.0648 4.848V17.648C28.0648 20.272 27.5208 20.624 25.0888 20.624V22H36.0008ZM32.8328 11.152V2.64C33.4408 2.544 34.0808 2.544 34.7528 2.544C37.7288 2.544 38.9448 4.144 38.9448 6.576C38.9448 10.064 37.2488 11.024 34.0488 11.184L32.8328 11.152ZM62.3125 22V20.624C59.5925 20.624 59.2405 20.272 59.2405 17.36V2.768H60.6485C64.2005 2.768 64.5845 3.856 65.3205 7.312H66.9205L66.6325 0.976H47.1445L46.7925 7.312H48.3925C49.0645 3.856 49.4805 2.768 53.0325 2.768H54.4725V17.36C54.4725 20.272 54.1205 20.624 51.3365 20.624V22H62.3125ZM70.0943 22.416C70.0943 21.808 70.4463 21.424 70.9263 21.424C71.6302 21.424 72.2383 22.384 75.3423 22.384C80.1423 22.384 83.3743 20.24 83.3743 16.272C83.3743 12.24 80.3663 10.448 77.3263 9.072C74.7343 7.856 72.4623 6.96 72.4623 4.624C72.4623 2.928 73.6143 2.128 75.8863 2.128C78.2863 2.128 79.7583 3.472 80.7183 7.344H82.2223L82.0303 0.623999H80.8143C80.6863 1.264 80.2383 1.392 79.8543 1.392C79.0543 1.392 78.0943 0.623999 75.6623 0.623999C71.3103 0.623999 68.5583 2.448 68.5583 6C68.5583 9.904 71.1503 11.312 74.1263 12.784C76.5903 13.968 78.8623 14.992 78.8623 17.744C78.8623 19.888 76.9103 20.592 74.8623 20.592C72.2703 20.592 71.0223 19.6 70.0303 15.504H68.4303L68.7183 22.416H70.0943ZM100.856 22V20.624C98.2958 20.624 97.6238 20.4 97.6238 17.616V14.032L102.424 5.104C103.8 2.704 104.472 2.448 106.296 2.352V0.976H99.0318V2.352C100.664 2.352 100.856 2.704 100.856 3.152C100.856 3.472 100.696 3.92 100.536 4.176L96.5998 11.92H96.3758L95.1598 9.328L92.4718 4.464C92.1838 3.952 91.9918 3.44 91.9918 3.088C91.9918 2.608 92.2478 2.352 93.9758 2.352V0.976H84.0237V2.352C85.5278 2.352 86.1358 2.608 88.5358 6.672L92.8558 14V17.616C92.8558 20.432 92.5038 20.624 89.6878 20.624V22H100.856ZM107.822 22.32C109.422 22.32 110.318 21.36 110.318 19.888C110.318 18.448 109.454 17.488 107.854 17.488C106.222 17.488 105.326 18.448 105.326 19.888C105.326 21.36 106.222 22.32 107.822 22.32Z" fill="#292929"/>
                        </svg>
                    </Link>
                    <nav className='hidden md:block'>
                        <ul className='nav-items'>
                            <li onClick={()=>switchActive('home')} id="home" className='nav active'><Link to="/">Home</Link></li>
                            <li onClick={()=>switchActive('marketplace')} id="marketplace" className='nav'><Link to="/marketplace">Marketplace</Link></li>
                            <li onClick={()=>switchActive('auctions')} id="auctions" className='nav'><Link to="/auctions">Aunctions</Link></li>
                            <li onClick={()=>switchActive('drop')} id="drop" className='nav'><Link to="/drop">Drop</Link></li>
                        </ul>
                    </nav>
                    <div className='flex'>
                        <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M21.9741 33.947C24.6309 33.9464 27.211 33.0571 29.3038 31.4206L35.8836 38L38 35.8837L31.4202 29.3043C33.0577 27.2114 33.9476 24.6308 33.9483 21.9735C33.9483 15.3716 28.5764 10 21.9741 10C15.3719 10 10 15.3716 10 21.9735C10 28.5754 15.3719 33.947 21.9741 33.947ZM21.9741 12.9934C26.9269 12.9934 30.9547 17.021 30.9547 21.9735C30.9547 26.926 26.9269 30.9536 21.9741 30.9536C17.0213 30.9536 12.9935 26.926 12.9935 21.9735C12.9935 17.021 17.0213 12.9934 21.9741 12.9934Z" fill="#333333"/>
                        </svg>
                        <Link to="/cart">
                            <svg width="49" height="49" viewBox="0 0 49 49" fill="none" xmlns="http://www.w3.org/2000/svg">
                                {cart.length && <circle cx="41.5" cy="12.5" r="2.5" fill="#E31616"/>}
                                <path d="M18.9 38.5C18.0556 38.5 17.3333 38.1433 16.7333 37.4298C16.1333 36.7173 15.8333 35.8685 15.8333 34.8833V20.4556L13.4 13.6111H10.5V10.5H15.2L17.4 16.7222H37.1C37.6111 16.7222 38 16.9685 38.2667 17.4611C38.5333 17.9537 38.5444 18.4593 38.3 18.9778L34.5 27.65C35.6333 27.8574 36.5836 28.4667 37.3507 29.4778C38.1169 30.4889 38.5 31.6815 38.5 33.0556C38.5 34.5593 38.0502 35.8426 37.1507 36.9056C36.2502 37.9685 35.1556 38.5 33.8667 38.5C32.5556 38.5 31.4502 37.9685 30.5507 36.9056C29.6502 35.8426 29.2 34.5593 29.2 33.0556C29.2 32.537 29.2556 32.0574 29.3667 31.6167C29.4778 31.1759 29.6333 30.7481 29.8333 30.3333L25.4667 29.8667L21.4667 36.8667C21.1778 37.3852 20.8053 37.787 20.3493 38.0722C19.8942 38.3574 19.4111 38.5 18.9 38.5ZM31.6333 27.4167L34.9333 19.8333L18.5 19.8722L20.1667 24.5C20.3444 25.0185 20.628 25.4525 21.0173 25.802C21.4058 26.1525 21.8556 26.3537 22.3667 26.4056L31.6333 27.4167ZM18.9333 35.35C18.9778 35.35 19.0778 35.2852 19.2333 35.1556L22.4667 29.5556C21.3778 29.4259 20.5222 29.121 19.9 28.6409C19.2778 28.1618 18.8111 27.663 18.5 27.1444V34.9222C18.5 35.0519 18.5444 35.1556 18.6333 35.2333C18.7222 35.3111 18.8222 35.35 18.9333 35.35ZM33.8333 35.3889C34.4111 35.3889 34.8889 35.1618 35.2667 34.7076C35.6444 34.2544 35.8333 33.7037 35.8333 33.0556C35.8333 32.3815 35.6444 31.8241 35.2667 31.3833C34.8889 30.9426 34.4111 30.7222 33.8333 30.7222C33.2778 30.7222 32.8058 30.9426 32.4173 31.3833C32.028 31.8241 31.8333 32.3815 31.8333 33.0556C31.8333 33.7037 32.028 34.2544 32.4173 34.7076C32.8058 35.1618 33.2778 35.3889 33.8333 35.3889ZM31.6333 27.4167L22.3667 26.4056L31.6333 27.4167Z" fill="#333333"/>
                            </svg>
                        </Link>
                        <Link to="drop">
                            <svg className='hidden md:block' width="46" height="49" viewBox="0 0 46 49" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M35.707 28.293L33 25.586V22C32.9969 19.5218 32.075 17.1328 30.4126 15.295C28.7502 13.4571 26.4654 12.3009 24 12.05V10H22V12.05C19.5346 12.3009 17.2498 13.4571 15.5874 15.295C13.925 17.1328 13.0031 19.5218 13 22V25.586L10.293 28.293C10.1055 28.4805 10.0001 28.7348 10 29V32C10 32.2652 10.1054 32.5196 10.2929 32.7071C10.4804 32.8946 10.7348 33 11 33H18V33.777C17.9782 35.0456 18.4254 36.2777 19.2558 37.237C20.0862 38.1964 21.2414 38.8156 22.5 38.976C23.1952 39.0449 23.8971 38.9676 24.5606 38.749C25.2241 38.5304 25.8345 38.1753 26.3525 37.7066C26.8706 37.2379 27.2848 36.666 27.5685 36.0277C27.8522 35.3893 27.9992 34.6986 28 34V33H35C35.2652 33 35.5196 32.8946 35.7071 32.7071C35.8946 32.5196 36 32.2652 36 32V29C35.9999 28.7348 35.8946 28.4805 35.707 28.293ZM26 34C26 34.7956 25.6839 35.5587 25.1213 36.1213C24.5587 36.6839 23.7956 37 23 37C22.2044 37 21.4413 36.6839 20.8787 36.1213C20.3161 35.5587 20 34.7956 20 34V33H26V34ZM34 31H12V29.414L14.707 26.707C14.8945 26.5195 14.9999 26.2652 15 26V22C15 19.8783 15.8429 17.8434 17.3431 16.3431C18.8434 14.8429 20.8783 14 23 14C25.1217 14 27.1566 14.8429 28.6569 16.3431C30.1571 17.8434 31 19.8783 31 22V26C31.0001 26.2652 31.1054 26.5195 31.293 26.707L34 29.414V31Z" fill="#333333"/>
                            </svg>
                        </Link>
                    </div>
                </div>
            </div>
        </header>
        </>
  )
}

export default Header
